<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veille technologique</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/footer.css">
    <style>
        /* Terminal Loader Styles */
        @keyframes blinkCursor {
            50% {
                border-right-color: transparent;
            }
        }

        @keyframes typeAndDelete {
            0%,
            10% {
                width: 0;
            }
            45%,
            55% {
                width: 6.2em;
            } /* adjust width based on content */
            90%,
            100% {
                width: 0;
            }
        }

        .terminal-loader {
            border: 0.1em solid #333;
            background-color: #1a1a1a;
            color: #0f0;
            font-family: "Courier New", Courier, monospace;
            font-size: 1em;
            padding: 1.5em 1em;
            width: 12em;
            margin: 100px auto;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
            box-sizing: border-box;
        }

        .terminal-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1.5em;
            background-color: #333;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
            padding: 0 0.4em;
            box-sizing: border-box;
        }

        .terminal-controls {
            float: right;
        }

        .control {
            display: inline-block;
            width: 0.6em;
            height: 0.6em;
            margin-left: 0.4em;
            border-radius: 50%;
            background-color: #777;
        }

        .control.close {
            background-color: #e33;
        }

        .control.minimize {
            background-color: #ee0;
        }

        .control.maximize {
            background-color: #0b0;
        }

        .terminal-title {
            float: left;
            line-height: 1.5em;
            color: #fffbfb;
        }

        .text {
            display: inline-block;
            white-space: nowrap;
            overflow: hidden;
            border-right: 0.2em solid green; /* Cursor */
            animation: typeAndDelete 4s steps(11) infinite,
                blinkCursor 0.5s step-end infinite alternate;
            margin-top: 1.5em;
        }

        /* Center content in the body */
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #000; /* Black background */
            color: #fff; /* Optional: White text for the rest of the page */
        }
         /* Styles du flux RSS */
         .veille-container {
            width: 80%;
            max-width: 800px;
            background-color: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .veille-container ul {
            list-style: none;
            padding: 0;
        }

        .veille-container li {
            margin: 10px 0;
            padding: 10px;
            background: #222;
            border-radius: 5px;
        }

        .veille-container a {
            color: #00bcd4;
            text-decoration: none;
        }

        .veille-container a:hover {
            text-decoration: underline;
        }

        /* Styles du chatbot */
        .chat-container {
            width: 80%;
            max-width: 600px;
            background: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
        }

        .chat-container input {
            width: 80%;
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
        }

        .chat-container button {
            padding: 10px 15px;
            background: #00bcd4;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .chat-container button:hover {
            background: #0097a7;
        }

        /* Styles du tableau Notion */
        .notion-container {
            width: 80%;
            max-width: 900px;
            margin-bottom: 30px;
        }

        iframe {
            width: 100%;
            height: 500px;
            border: none;
        }

        .content {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .footer {
            margin-top: auto;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <div class="navbar">
        <img alt="Kyllian-Dev Logo" height="50" src="https://storage.googleapis.com/a1aa/image/eMdgnqbRWjxNBa3Sq8kyO2I9Axn9EsltNfvXay8hxmRvOLzTA.jpg" width="100"/>
        <ul>
            <li><a class="active" href="index.html"><i class="fas fa-home"></i> Accueil</a></li>
            <li><a href="Profilperso.html">Profil perso</a></li>
            <li><a href="BtsSio.html">BTS SIO</a></li>
            <li><a href="Competence.html">Comp√©tence</a></li>
            <li><a href="Projet.html">Projets</a></li>
            <li><a href="Veillle technologique.html">Veillle technologique</a></li>
        </ul>
        <a class="contact" href="Contact.html">Contact</a>
    </div>

    <!-- Flux RSS Dynamique -->
    <div class="veille-container">
        <h2>üì° Derni√®res actualit√©s technologiques</h2>
        <ul id="news-feed">Chargement des actualit√©s...</ul>
    </div>

    <!-- Chatbot IA -->
    <div class="chat-container">
        <h2>ü§ñ Chatbot IA - Posez une question sur la veille technologique</h2>
        <input type="text" id="user-input" placeholder="Tapez votre question...">
        <button onclick="askAI()">Envoyer</button>
        <div id="response"></div>
    </div>

    <!-- Tableau Notion -->
    <div class="notion-container">
        <h2>üìù Tableau de veille Notion</h2>
        <iframe src="https://www.notion.so/votre-tableau"></iframe>
    </div>


    <!-- Footer -->
    <div class="footer">
        <div class="logo">
            <i class="fas fa-cube"></i>
            <span>Kyllian</span>
        </div>
        <a href="#">Politique de confidentialit√©</a>
        <a href="#">Politique de cookies</a>
        <a href="#">Mentions l√©gales</a>
        <p>¬© 2024</p>
    </div>

    <script>
        // Script pour charger le Flux RSS
        async function loadRSS() {
            try {
                const response = await fetch('https://corsproxy.io/?' + encodeURIComponent('https://www.lemondeinformatique.fr/rss/rss.xml'));
                const data = await response.text();
                const parser = new DOMParser();
                const xml = parser.parseFromString(data, "text/xml");

                let items = xml.querySelectorAll("item");
                if (items.length === 0) {
                    document.getElementById("news-feed").innerHTML = "‚ö†Ô∏è Aucun article trouv√©.";
                    return;
                }

                let html = "";
                items.forEach((item, index) => {
                    if (index < 5) {
                        html += `<li><a href="${item.querySelector("link").textContent}" target="_blank">${item.querySelector("title").textContent}</a></li>`;
                    }
                });
                document.getElementById("news-feed").innerHTML = html;
            } catch (error) {
                console.error("Erreur lors du chargement du flux RSS:", error);
                document.getElementById("news-feed").innerHTML = "‚ö†Ô∏è Impossible de charger les actualit√©s.";
            }
        }
        loadRSS();

        // Script pour le Chatbot IA (OpenAI)
        async function askAI() {
        let question = document.getElementById("user-input").value;
        let responseDiv = document.getElementById("response");

        responseDiv.innerHTML = "Recherche en cours...";

        try {
            let response = await fetch("http://localhost:3000/chat", { // ‚úÖ UTILISE TON SERVEUR LOCAL
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ question: question })
            });

            let result = await response.json();
            responseDiv.innerHTML = result.choices[0].message.content;
        } catch (error) {
            responseDiv.innerHTML = "‚ö†Ô∏è Erreur lors de la requ√™te.";
        }
    }

    </script>
</body>
</html>
